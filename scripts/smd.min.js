var L=2,C=4,h=8,O=16,b=32,S=64,G=128,x=256,H=512,U=1024,m=2048,K=4096,B=8192,M=16384,w=32768,P=65536,y=131072,q=262144,Y=524288,F=1048576,Q=4194304,W=8388608,X=16777216,v=33554432,j=67108864;var I=1,N=2,f=4,D=8,R=16;var k=24;function z(e){let o=new Uint32Array(k);return o[0]=1,{renderer:e,text:"",pending:"",tokens:o,len:0,token:1,code_fence_body:0,blockquote_idx:0,hr_char:"",hr_chars:0,backticks_count:0,spaces:new Uint8Array(k),indent:"",indent_len:0}}function J(e){e.pending.length>0&&E(e,`
`)}function a(e){e.text.length!==0&&(e.renderer.add_text(e.renderer.data,e.text),e.text="")}function s(e){e.len-=1,e.token=e.tokens[e.len],e.renderer.end_token(e.renderer.data)}function i(e,o){e.len+=1,e.tokens[e.len]=o,e.token=o,e.renderer.add_token(e.renderer.data,o)}function V(e,o,n){for(;n<=e.len;){if(e.tokens[n]&o)return n;n+=1}return-1}function u(e,o){for(;e.len>o;)s(e)}function l(e,o){let n=-1,t=-1;for(let r=e.blockquote_idx+1;r<=e.len;r+=1)if(e.tokens[r]&33554432){if(e.tokens[r-1]&o&&(n=r-1),e.indent_len<e.spaces[r]){t=-1;break}t=r}t===-1?n===-1?(u(e,e.blockquote_idx),i(e,o)):u(e,n):(u(e,t),i(e,o))}function g(e,o){i(e,33554432),e.spaces[e.len]=e.indent_len+o,_(e),e.token=268435456}function _(e){e.indent="",e.indent_len=0,e.pending=""}function A(e){switch(e){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return!0;default:return!1}}function E(e,o){for(let n of o){let t=e.pending+n;switch(e.token){case 1048576:case 1:case 524288:switch(e.pending[0]){case void 0:e.pending=n;continue;case" ":e.pending=n,e.indent+=" ",e.indent_len+=1;continue;case"	":e.pending=n,e.indent+="	",e.indent_len+=4;continue;case`
`:u(e,e.blockquote_idx),e.blockquote_idx=0,e.backticks_count=0,e.pending=n;continue;case"#":switch(n){case"#":if(e.pending.length<6){e.pending=t;continue}break;case" ":switch(e.pending.length){case 1:i(e,4),_(e);continue;case 2:i(e,8),_(e);continue;case 3:i(e,16),_(e);continue;case 4:i(e,32),_(e);continue;case 5:i(e,64),_(e);continue;case 6:i(e,128),_(e);continue}}break;case">":{let c=V(e,524288,e.blockquote_idx+1);c===-1?(u(e,e.blockquote_idx),e.blockquote_idx+=1,e.backticks_count=0,i(e,524288)):e.blockquote_idx=c,_(e),e.pending=n;continue}case"-":case"*":case"_":if(e.hr_chars===0&&(e.hr_chars=1,e.hr_char=e.pending),e.hr_chars>0){switch(n){case e.hr_char:e.hr_chars+=1,e.pending=t;continue;case" ":e.pending=t;continue;case`
`:if(e.hr_chars<3)break;e.renderer.add_token(e.renderer.data,4194304),e.renderer.end_token(e.renderer.data),e.pending="",e.hr_chars=0;continue}e.hr_chars=0}if(e.pending[0]!=="_"&&e.pending[1]===" "){l(e,8388608),g(e,2),E(e,t.slice(2));continue}break;case"`":if(e.pending.length<3){if(n==="`"){e.pending=t,e.backticks_count=t.length;continue}e.backticks_count=0;break}switch(n){case"`":e.pending.length===e.backticks_count?(e.pending=t,e.backticks_count=t.length):(i(e,2),_(e),e.backticks_count=0,E(e,t));continue;case`
`:i(e,512),e.pending.length>e.backticks_count&&e.renderer.set_attr(e.renderer.data,f,e.pending.slice(e.backticks_count)),_(e);continue;default:e.pending=t;continue}case"+":if(n!==" ")break;l(e,8388608),g(e,2);continue;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(e.pending[e.pending.length-1]==="."){if(n!==" ")break;l(e,16777216),e.pending!=="1."&&e.renderer.set_attr(e.renderer.data,R,e.pending.slice(0,-1)),g(e,e.pending.length+1);continue}else{let c=n.charCodeAt(0);if(c===46||A(c)){e.pending=t;continue}}break}let r=t;if(e.token&1048576)e.token=e.tokens[e.len],e.renderer.add_token(e.renderer.data,1048576),e.renderer.end_token(e.renderer.data);else if(e.indent_len>=4){let c=0;for(;c<4;c+=1)if(e.indent[c]==="	"){c=c+1;break}r=e.indent.slice(c)+t,i(e,256)}else i(e,2);_(e),E(e,r);continue;case 256:switch(t){case`
    `:case`
   	`:case`
  	`:case`
 	`:case`
	`:e.text+=`
`,e.pending="";continue;case`
`:case`
 `:case`
  `:case`
   `:e.pending=t;continue;default:e.pending.length!==0?(a(e),s(e),e.pending=n):e.text+=n;continue}case 512:switch(n){case"`":t.length===e.backticks_count+e.code_fence_body?(a(e),s(e),e.pending="",e.backticks_count=0,e.code_fence_body=0):e.pending=t;continue;case`
`:e.text+=e.pending,e.pending=n,e.code_fence_body=1;continue;default:e.text+=t,e.pending="",e.code_fence_body=1;continue}case 1024:switch(n){case"`":t.length===e.backticks_count+ +(e.pending[0]===" ")?(a(e),s(e),e.pending="",e.backticks_count=0):e.pending=t;continue;case`
`:e.text+=e.pending,e.pending="",e.token=1048576,e.blockquote_idx=0,a(e);continue;case" ":e.text+=e.pending,e.pending=n;continue;default:e.text+=t,e.pending="";continue}case 268435456:switch(e.pending.length){case 0:if(n!=="[")break;e.pending=t;continue;case 1:if(n!==" "&&n!=="x")break;e.pending=t;continue;case 2:if(n!=="]")break;e.pending=t;continue;case 3:if(n!==" ")break;e.renderer.add_token(e.renderer.data,67108864),e.pending[1]==="x"&&e.renderer.set_attr(e.renderer.data,D,""),e.renderer.end_token(e.renderer.data),e.pending=" ";continue}e.token=e.tokens[e.len],e.pending="",E(e,t);continue;case 8192:case 16384:{let c="*",d=2048;if(e.token===16384&&(c="_",d=4096),c===e.pending){if(a(e),c===n){s(e),e.pending="";continue}i(e,d),e.pending=n;continue}break}case 2048:case 4096:{let c="*",d=8192;switch(e.token===4096&&(c="_",d=16384),e.pending){case c:c===n?e.tokens[e.len-1]===d?e.pending=t:(a(e),i(e,d),e.pending=""):(a(e),s(e),e.pending=n);continue;case c+c:let T=e.token;a(e),s(e),s(e),c!==n?(i(e,T),e.pending=n):e.pending="";continue}break}case 32768:if(t==="~~"){a(e),s(e),e.pending="";continue}break;case 134217728:t==="http://"||t==="https://"?(a(e),i(e,131072),e.pending=t,e.text=t):"http:/"[e.pending.length]===n||"https:/"[e.pending.length]===n?e.pending=t:(e.token=e.tokens[e.len],E(e,n));continue;case 65536:case 262144:if(e.pending==="]"){a(e),n==="("?e.pending=t:(s(e),e.pending=n);continue}if(e.pending[0]==="]"&&e.pending[1]==="("){if(n===")"){let c=e.token===65536?I:N,d=e.pending.slice(2);e.renderer.set_attr(e.renderer.data,c,d),s(e),e.pending=""}else e.pending+=n;continue}break;case 131072:n===" "||n===`
`||n==="\\"?(e.renderer.set_attr(e.renderer.data,I,e.pending),a(e),s(e),e.pending=n):(e.text+=n,e.pending=t);continue}switch(e.pending[0]){case"\\":if(n===`
`)e.pending=n;else{let r=n.charCodeAt(0);e.pending="",e.text+=A(r)||r>=65&&r<=90||r>=97&&r<=122?t:n}continue;case`
`:a(e),e.token=1048576,e.blockquote_idx=0,e.pending=n;continue;case"`":if(e.token&262144)break;n==="`"?(e.backticks_count+=1,e.pending=t):(e.backticks_count+=1,a(e),i(e,1024),e.text=n===" "||n===`
`?"":n,e.pending="");continue;case"_":case"*":{if(e.token&262144)break;let r=2048,c=8192,d=e.pending[0];if(d==="_"&&(r=4096,c=16384),e.pending.length===1){if(d===n){e.pending=t;continue}if(n!==" "&&n!==`
`){a(e),i(e,r),e.pending=n;continue}}else{if(d===n){a(e),i(e,c),i(e,r),e.pending="";continue}if(n!==" "&&n!==`
`){a(e),i(e,c),e.pending=n;continue}}break}case"~":if(e.token&294912)break;if(e.pending==="~"){if(n==="~"){e.pending=t;continue}}else if(n!==" "&&n!==`
`){a(e),i(e,32768),e.pending=n;continue}break;case"[":if(!(e.token&327680)&&n!=="]"){a(e),i(e,65536),e.pending=n;continue}break;case"!":if(!(e.token&262144)&&n==="["){a(e),i(e,262144),e.pending="";continue}break;case" ":if(n===" ")continue;break}if(!(e.token&327680)&&n==="h"&&(e.pending===" "||e.pending==="")){e.text+=e.pending,e.pending=n,e.token=134217728;continue}e.text+=e.pending,e.pending=n}a(e)}export{Y as BLOCKQUOTE,j as CHECKBOX,D as CHECKED,x as CODE_BLOCK,H as CODE_FENCE,U as CODE_INLINE,C as HEADING_1,h as HEADING_2,O as HEADING_3,b as HEADING_4,S as HEADING_5,G as HEADING_6,I as HREF,q as IMAGE,m as ITALIC_AST,K as ITALIC_UND,f as LANG,F as LINE_BREAK,P as LINK,v as LIST_ITEM,X as LIST_ORDERED,W as LIST_UNORDERED,L as PARAGRAPH,y as RAW_URL,Q as RULE,N as SRC,R as START,w as STRIKE,B as STRONG_AST,M as STRONG_UND,z as parser,J as parser_end,E as parser_write};
